<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Relatório Premium de Sinastria</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

<style>
body{
  font-family:"Times New Roman", serif;
  background:#f5f5f5;
  margin:0;
  color:#111;
  line-height:1.8;
}

.container{
  max-width:1000px;
  margin:auto;
  padding:40px;
  background:white;
  box-shadow:0 0 30px rgba(0,0,0,0.05);
}

h1,h2{
  text-align:center;
}

h2{
  margin-top:60px;
  border-bottom:1px solid #eee;
  padding-bottom:10px;
}

.intro{
  font-style:italic;
  margin-bottom:30px;
}

.bloco{
  margin-top:40px;
}

.numero{
  font-weight:bold;
  font-size:20px;
  margin-top:15px;
}

.assinatura{
  text-align:right;
  margin-top:80px;
  font-size:14px;
  color:#777;
}

.piramide{
  text-align:center;
  font-family:monospace;
  margin-top:20px;
}

.vermelho{
  color:red;
  font-weight:bold;
}
</style>
</head>
<body>

<div class="container" id="relatorio">

<!-- CAPA -->
<h1>Relatório Premium de Sinastria</h1>
<h2 id="nomeCasal"></h2>

<div class="intro">
Este relatório apresenta a análise vibracional completa do casal,
incluindo aspectos individuais, cruzamento energético, compatibilidade
biológica e projeção vibracional familiar.
</div>

<!-- PESSOA 1 -->
<h2 id="tituloP1"></h2>

<div class="intro">
A análise individual revela como as vibrações pessoais moldam
personalidade, comportamento e influência nos relacionamentos.
</div>

<div id="conteudoP1"></div>

<!-- PESSOA 2 -->
<h2 id="tituloP2"></h2>

<div class="intro">
A análise individual revela como as vibrações pessoais moldam
personalidade, comportamento e influência nos relacionamentos.
</div>

<div id="conteudoP2"></div>

<!-- SINASTRIA -->
<h2>Sinastria do Casal</h2>

<div class="intro">
A sinastria representa o cruzamento vibracional entre duas pessoas,
indicando afinidade energética, desafios e potencial de harmonia.
</div>

<div id="conteudoSinastria"></div>

<!-- COMPATIBILIDADE BIOLÓGICA -->
<h2>Compatibilidade Biológica</h2>

<div class="intro">
A compatibilidade biológica analisa possíveis interações genéticas
e energéticas entre o casal.
</div>

<div id="conteudoBiologico"></div>

<!-- MAPA DO BEBÊ -->
<h2>Mapa do Bebê</h2>

<div class="intro">
O mapa vibracional do bebê demonstra projeções energéticas
resultantes da união do casal.
</div>

<div id="conteudoBebe"></div>

<!-- CONSIDERAÇÕES FINAIS -->
<h2>Considerações Finais</h2>

<div>
A harmonia entre duas pessoas depende não apenas da compatibilidade
vibracional, mas também do nível de consciência e maturidade emocional.
Este relatório serve como orientação estratégica.
</div>

<div class="assinatura">
Relatório desenvolvido por Instinto Superior
</div>

</div>

<script>
const dados = JSON.parse(localStorage.getItem("relatorioSinastria"));

if(!dados){
  document.body.innerHTML = "<h2 style='text-align:center;margin-top:120px'>Gere o relatório pelo index primeiro.</h2>";
  throw new Error("Sem dados");
}

/* NOME DO CASAL */
document.getElementById("nomeCasal").innerText =
dados.pessoa1.nome + " & " + dados.pessoa2.nome;

/* TITULOS */
document.getElementById("tituloP1").innerText = "Análise Individual – " + dados.pessoa1.nome;
document.getElementById("tituloP2").innerText = "Análise Individual – " + dados.pessoa2.nome;

/* FUNÇÃO PARA MONTAR BLOCO INDIVIDUAL */
function montarPessoa(p){
  return `
  <div class="bloco">
    <div class="numero">Motivação: ${p.motivacao}</div>
    <div>${p.textos.motivacao}</div>

    <div class="numero">Influência: ${p.influencia}</div>
    <div>${p.textos.influencia}</div>

    <div class="numero">Personalidade: ${p.personalidade}</div>
    <div>${p.textos.personalidade}</div>

    <div class="numero">Caminho de Vida: ${p.caminho}</div>
    <div>${p.textos.caminho}</div>

    <div class="numero">Propósito: ${p.proposito}</div>
    <div>${p.textos.proposito}</div>

    <div class="numero">Ano Pessoal: ${p.ano}</div>
    <div>${p.textos.ano}</div>

    <div class="numero">Harmonia Individual: ${p.harmonia}</div>
    <div>${p.textos.harmonia}</div>

    <div class="numero">Regente: ${p.regente}</div>
    <div>${p.textos.regente}</div>

    <div class="numero">Sequência Negativa: ${p.seqNegativa}</div>
    <div>${p.textos.seqNegativa}</div>

    <div class="piramide">${p.piramide}</div>
  </div>
  `;
}

/* RENDERIZA */
document.getElementById("conteudoP1").innerHTML = montarPessoa(dados.pessoa1);
document.getElementById("conteudoP2").innerHTML = montarPessoa(dados.pessoa2);

/* SINASTRIA */
document.getElementById("conteudoSinastria").innerHTML = `
<div class="numero">Número: ${dados.sinastria.numero}</div>
<div>${dados.sinastria.texto}</div>
`;

/* BIOLOGICO */
document.getElementById("conteudoBiologico").innerHTML =
dados.biologico;

/* BEBE */
document.getElementById("conteudoBebe").innerHTML =
dados.bebe;

/* PDF AUTOMÁTICO */
window.onload = function(){
  setTimeout(()=>{
    html2pdf().from(document.getElementById("relatorio")).save("Relatorio_Sinastria.pdf");
  },1000);
}
</script>

</body>
</html>
